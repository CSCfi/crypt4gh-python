\section{Encrypted Representation Overview}
The encrypted file consists of two parts: the header and the encrypted data portion.

The header lists:
\begin{itemize}
\item a magic number, a version number, the length of the remainder of the header data.
\item the header encryption method
\item the encrypter's public key
\item the checksum algorithm
\item the encryption algorithm, and the encryption key needed to decrypt the encrypted data portion.
\end{itemize}

The encrypted data portion is the actual application data.
% 
It is encrypted using a symmetric encryption algorithm, as specified in the header.
% 
The data is encrypted in 64 kilobytes segments. For each encrypted segment, a 12 bytes nonce is prepended and a 16 bytes MAC is appended.
% 
The encrypted data portion may include a checksum of the unencrypted data, if the checksum algorithm is listed in the header.

